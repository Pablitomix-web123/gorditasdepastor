var ModernRewards;(function(n){var t=function(){function n(n){this.reportActivityModel=n;this.rewardsReadyEventArgs={isAuthenticated:n&&n.IsAuthenticated,isRebatesUser:n&&n.RewardsSessionData&&n.RewardsSessionData.IsRebatesUser,isRewardsUser:n&&n.RewardsSessionData&&n.RewardsSessionData.IsRewardUser}}return n.prototype.initialize=function(){this.reportActivityModel&&(this.updateDashboardHeader(),this.updateMobileHeader(),this.updateIdentityHeader());sj_evt.fire("RewardsCookieUpdated");sj_evt.fire("rewready",this.rewardsReadyEventArgs)},n.prototype.updateIdentityHeader=function(){var f=this,n,r,i,t,u;this.reportActivityModel.RewardsSessionData&&(n=this.reportActivityModel.RewardsSessionData,r=_ge("id_r"),r&&(r.style.display="block"),i=n.Balance>0||n.IsRewardUser,this.reportActivityModel.IsMobileClient?(t=_ge("fly_id_rc"),t&&i&&(t.innerHTML=n.Balance.toString())):(u=i?n.Balance.toString():this.reportActivityModel.RewardsHeader,t=_ge("id_rc"),t&&u&&(t.innerHTML=u,this.reportActivityModel.AnimateHeader&&i&&sj_evt.bind("identityHeaderShown",function(){return RewardsCreditRefresh.RewardsHeaderAnim(n.PreviousBalance,n.Balance,n.GoalTrackBalance,f.reportActivityModel.RewardsIncrement)},1))))},n.prototype.updateMobileHeader=function(){var t,n;!this.reportActivityModel.IsMobileClient||this.reportActivityModel.RewardsSessionData.Balance<0||(t=_ge("id_rwds_r"),t&&(t.style.display="inline"),n=_ge("id_rwds_b"),n||(n=_ge("fly_id_rwds_b")),n&&(n.href=this.reportActivityModel.DashboardUrl))},n.prototype.updateDashboardHeader=function(){if(this.reportActivityModel.NeedUpdateRewardsHeaderLink){var n=_ge("id_rh");n&&(n.href=this.reportActivityModel.DashboardUrl,typeof bepns!="undefined"&&bepns.ubc())}},n}();n.ReportActivity=t})(ModernRewards||(ModernRewards={})),function(){sj_evt&&sj_evt.fire("onRALoad")}()